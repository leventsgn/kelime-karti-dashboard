<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hatırlatıcı Oyunu</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #fefefe;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        header {
            background-color: #ec4899;
            color: white;
            padding: 1rem;
            text-align: center;
        }
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 1rem;
        }
        .card-display {
            background-color: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
            padding: 1.5rem;
            width: 100%;
            max-width: 500px;
            text-align: center;
            margin-top: 1rem;
        }
        .buttons {
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
        }
        .action-btn {
            padding: 0.7rem 1.4rem;
            font-size: 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            color: white;
        }
        .remember {
            background-color: #10b981;
        }
        .forget {
            background-color: #f87171;
        }
        .show-btn {
            padding: 0.6rem 1.2rem;
            border: none;
            background-color: #3b82f6;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 1rem;
        }
        .return-btn {
            margin-top: 2rem;
            padding: 0.6rem 1.2rem;
            font-size: 1rem;
            border-radius: 8px;
            border: none;
            background-color: #ec4899;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <h1>Hatırlatıcı Oyunu</h1>
    </header>
    <main>
        <p>Kelimeleri hızlıca gözden geçirmek için çeviriyi gör ve hatırladığını işaretle.</p>
        <div id="cardContainer" class="card-display" style="display:none;"></div>
        <button id="showBtn" class="show-btn" style="display:none;">Çeviriyi Göster</button>
        <div class="buttons" id="choiceButtons" style="display:none;">
            <button id="rememberBtn" class="action-btn remember">Hatırladım</button>
            <button id="forgetBtn" class="action-btn forget">Unuttum</button>
        </div>
        <button class="return-btn" onclick="goHome()">Ana Sayfaya Dön</button>
    </main>

    <script>
    // Expanded vocabulary list as in other pages
    const initialCards = [
        // A1
        { id: 1, word: 'apple', translation: 'elma', example: 'I eat an apple every day.', level: 'A1', stage: 1 },
        { id: 2, word: 'sun', translation: 'güneş', example: 'The sun is shining.', level: 'A1', stage: 1 },
        { id: 3, word: 'book', translation: 'kitap', example: 'This book is interesting.', level: 'A1', stage: 1 },
        { id: 4, word: 'city', translation: 'şehir', example: 'I live in a large city.', level: 'A1', stage: 1 },
        { id: 5, word: 'dog', translation: 'köpek', example: 'The dog is barking.', level: 'A1', stage: 1 },
        { id: 6, word: 'house', translation: 'ev', example: 'My house is big.', level: 'A1', stage: 1 },
        { id: 7, word: 'cat', translation: 'kedi', example: 'The cat is sleeping.', level: 'A1', stage: 1 },
        { id: 8, word: 'car', translation: 'araba', example: 'I have a new car.', level: 'A1', stage: 1 },
        { id: 9, word: 'school', translation: 'okul', example: 'She goes to school every day.', level: 'A1', stage: 1 },
        { id: 10, word: 'water', translation: 'su', example: 'Drink some water.', level: 'A1', stage: 1 },
        { id: 11, word: 'table', translation: 'masa', example: 'There is a book on the table.', level: 'A1', stage: 1 },
        { id: 12, word: 'chair', translation: 'sandalye', example: 'The chair is comfortable.', level: 'A1', stage: 1 },
        { id: 13, word: 'milk', translation: 'süt', example: 'I drink milk every morning.', level: 'A1', stage: 1 },
        { id: 14, word: 'coffee', translation: 'kahve', example: 'She likes strong coffee.', level: 'A1', stage: 1 },
        { id: 15, word: 'banana', translation: 'muz', example: 'Monkeys love bananas.', level: 'A1', stage: 1 },
        { id: 16, word: 'orange', translation: 'portakal', example: 'Can I have an orange?', level: 'A1', stage: 1 },
        // A2
        { id: 17, word: 'family', translation: 'aile', example: 'My family is very supportive.', level: 'A2', stage: 1 },
        { id: 18, word: 'friend', translation: 'arkadaş', example: 'He is my best friend.', level: 'A2', stage: 1 },
        { id: 19, word: 'travel', translation: 'seyahat', example: 'They love to travel.', level: 'A2', stage: 1 },
        { id: 20, word: 'job', translation: 'iş', example: 'I start my new job tomorrow.', level: 'A2', stage: 1 },
        { id: 21, word: 'music', translation: 'müzik', example: 'We listen to music.', level: 'A2', stage: 1 },
        { id: 22, word: 'food', translation: 'yiyecek', example: 'The food tastes great.', level: 'A2', stage: 1 },
        { id: 23, word: 'weather', translation: 'hava', example: 'The weather is nice today.', level: 'A2', stage: 1 },
        { id: 24, word: 'computer', translation: 'bilgisayar', example: 'I bought a new computer.', level: 'A2', stage: 1 },
        { id: 25, word: 'phone', translation: 'telefon', example: 'My phone is ringing.', level: 'A2', stage: 1 },
        { id: 26, word: 'garden', translation: 'bahçe', example: 'The garden is full of flowers.', level: 'A2', stage: 1 },
        { id: 27, word: 'restaurant', translation: 'restoran', example: 'We had dinner at a restaurant.', level: 'A2', stage: 1 },
        { id: 28, word: 'holiday', translation: 'tatil', example: 'They went on holiday last week.', level: 'A2', stage: 1 },
        { id: 29, word: 'supermarket', translation: 'süpermarket', example: 'I buy groceries at the supermarket.', level: 'A2', stage: 1 },
        { id: 30, word: 'movie', translation: 'film', example: 'We watched a movie last night.', level: 'A2', stage: 1 },
        { id: 31, word: 'sport', translation: 'spor', example: 'Football is my favourite sport.', level: 'A2', stage: 1 },
        { id: 32, word: 'doctor', translation: 'doktor', example: 'I need to see a doctor.', level: 'A2', stage: 1 },
        { id: 33, word: 'hospital', translation: 'hastane', example: 'She works at the hospital.', level: 'A2', stage: 1 },
        { id: 34, word: 'library', translation: 'kütüphane', example: 'Students study at the library.', level: 'A2', stage: 1 },
        { id: 35, word: 'hotel', translation: 'otel', example: 'We stayed at a hotel.', level: 'A2', stage: 1 },
        { id: 36, word: 'airport', translation: 'havaalanı', example: 'He arrived at the airport.', level: 'A2', stage: 1 },
        // B1
        { id: 37, word: 'environment', translation: 'çevre', example: 'Protecting the environment is important.', level: 'B1', stage: 1 },
        { id: 38, word: 'culture', translation: 'kültür', example: 'The city has a rich culture.', level: 'B1', stage: 1 },
        { id: 39, word: 'economy', translation: 'ekonomi', example: 'The economy is growing.', level: 'B1', stage: 1 },
        { id: 40, word: 'education', translation: 'eğitim', example: 'Education opens doors.', level: 'B1', stage: 1 },
        { id: 41, word: 'language', translation: 'dil', example: 'Language connects people.', level: 'B1', stage: 1 },
        { id: 42, word: 'technology', translation: 'teknoloji', example: 'Technology is advancing rapidly.', level: 'B1', stage: 1 },
        { id: 43, word: 'health', translation: 'sağlık', example: 'Health is wealth.', level: 'B1', stage: 1 },
        { id: 44, word: 'community', translation: 'toplum', example: 'The community is supportive.', level: 'B1', stage: 1 },
        { id: 45, word: 'energy', translation: 'enerji', example: 'Solar energy is renewable.', level: 'B1', stage: 1 },
        { id: 46, word: 'science', translation: 'bilim', example: 'Science explains how things work.', level: 'B1', stage: 1 },
        { id: 47, word: 'history', translation: 'tarih', example: 'History teaches us about the past.', level: 'B1', stage: 1 },
        { id: 48, word: 'business', translation: 'iş dünyası', example: 'She studies business.', level: 'B1', stage: 1 },
        { id: 49, word: 'project', translation: 'proje', example: 'We are working on a new project.', level: 'B1', stage: 1 },
        { id: 50, word: 'research', translation: 'araştırma', example: 'He is doing research.', level: 'B1', stage: 1 },
        { id: 51, word: 'communication', translation: 'iletişim', example: 'Communication is key.', level: 'B1', stage: 1 },
        { id: 52, word: 'opinion', translation: 'görüş', example: 'Everyone has an opinion.', level: 'B1', stage: 1 },
        // B2
        { id: 53, word: 'government', translation: 'hükümet', example: 'The government passed a new law.', level: 'B2', stage: 1 },
        { id: 54, word: 'opportunity', translation: 'fırsat', example: 'Education provides opportunity.', level: 'B2', stage: 1 },
        { id: 55, word: 'relationship', translation: 'ilişki', example: 'Trust is important in a relationship.', level: 'B2', stage: 1 },
        { id: 56, word: 'experience', translation: 'deneyim', example: 'Work experience matters.', level: 'B2', stage: 1 },
        { id: 57, word: 'development', translation: 'gelişim', example: 'Personal development is essential.', level: 'B2', stage: 1 },
        { id: 58, word: 'psychology', translation: 'psikoloji', example: 'She studies psychology.', level: 'B2', stage: 1 },
        { id: 59, word: 'philosophy', translation: 'felsefe', example: 'Philosophy questions existence.', level: 'B2', stage: 1 },
        { id: 60, word: 'architecture', translation: 'mimari', example: 'Modern architecture is fascinating.', level: 'B2', stage: 1 },
        { id: 61, word: 'democracy', translation: 'demokrasi', example: 'Democracy encourages participation.', level: 'B2', stage: 1 },
        { id: 62, word: 'entrepreneur', translation: 'girişimci', example: 'She is a successful entrepreneur.', level: 'B2', stage: 1 },
        { id: 63, word: 'globalization', translation: 'küreselleşme', example: 'Globalization connects economies.', level: 'B2', stage: 1 },
        { id: 64, word: 'sustainability', translation: 'sürdürülebilirlik', example: 'Sustainability is crucial for our planet.', level: 'B2', stage: 1 },
        { id: 65, word: 'innovation', translation: 'yenilik', example: 'Innovation drives progress.', level: 'B2', stage: 1 },
        { id: 66, word: 'negotiation', translation: 'müzakere', example: 'They reached an agreement after negotiation.', level: 'B2', stage: 1 },
        { id: 67, word: 'hypothesis', translation: 'hipotez', example: 'The scientist tested the hypothesis.', level: 'B2', stage: 1 },
        { id: 68, word: 'analysis', translation: 'analiz', example: 'Data analysis is important.', level: 'B2', stage: 1 },
        { id: 69, word: 'strategy', translation: 'strateji', example: 'They discussed the marketing strategy.', level: 'B2', stage: 1 },
        { id: 70, word: 'ethics', translation: 'etik', example: 'Ethics guide our actions.', level: 'B2', stage: 1 },
        { id: 71, word: 'biodiversity', translation: 'biyoçeşitlilik', example: 'Biodiversity is important for ecosystems.', level: 'B2', stage: 1 },
        { id: 72, word: 'climate', translation: 'iklim', example: 'The climate is changing.', level: 'B2', stage: 1 },
        { id: 73, word: 'biology', translation: 'biyoloji', example: 'Biology studies living organisms.', level: 'B2', stage: 1 },
        { id: 74, word: 'chemistry', translation: 'kimya', example: 'Chemistry experiments can be fun.', level: 'B2', stage: 1 },
        { id: 75, word: 'engineering', translation: 'mühendislik', example: 'Engineering solves practical problems.', level: 'B2', stage: 1 },
        { id: 76, word: 'mathematics', translation: 'matematik', example: 'Mathematics is the language of science.', level: 'B2', stage: 1 },
        { id: 77, word: 'literature', translation: 'edebiyat', example: 'She loves English literature.', level: 'B2', stage: 1 },
        { id: 78, word: 'geography', translation: 'coğrafya', example: 'Geography studies the Earth.', level: 'B2', stage: 1 },
        { id: 79, word: 'statistics', translation: 'istatistik', example: 'Statistics helps us understand data.', level: 'B2', stage: 1 },
        { id: 80, word: 'automation', translation: 'otomasyon', example: 'Automation improves efficiency.', level: 'B2', stage: 1 },
    ];

    /**
     * Load saved card progress from localStorage. If none exists, return the initial list.
     */
    function loadProgress() {
        const saved = localStorage.getItem('wordGardenProgress');
        if (saved) {
            try {
                const parsed = JSON.parse(saved);
                return initialCards.map(card => {
                    const savedCard = parsed.find(c => c.id === card.id);
                    return savedCard ? { ...card, stage: savedCard.stage } : { ...card };
                });
            } catch (e) {
                console.error('Error parsing saved progress', e);
            }
        }
        return initialCards.map(card => ({ ...card }));
    }

    /**
     * Persist card stages to localStorage.
     */
    function saveProgress(cards) {
        localStorage.setItem('wordGardenProgress', JSON.stringify(cards));
    }

    /**
     * Load user settings (level and daily goal) from localStorage.
     */
    function loadSettings() {
        const saved = localStorage.getItem('wordGardenSettings');
        if (saved) {
            try {
                return JSON.parse(saved);
            } catch (e) {
                console.error('Error parsing settings', e);
            }
        }
        return { level: 'All', dailyGoal: 10 };
    }

    // Global state
    let cards = loadProgress();
    let reviewCards = [];
    let currentIndex = 0;
    let currentCard = null;

    const cardContainer = document.getElementById('cardContainer');
    const showBtn = document.getElementById('showBtn');
    const choiceButtons = document.getElementById('choiceButtons');
    const rememberBtn = document.getElementById('rememberBtn');
    const forgetBtn = document.getElementById('forgetBtn');

    /**
     * Initialize the review session: pick cards due for review based on settings and stage.
     */
    function startReview() {
        const settings = loadSettings();
        reviewCards = cards.filter(c => c.stage < 5 && (settings.level === 'All' || c.level === settings.level));
        currentIndex = 0;
        if (reviewCards.length === 0) {
            cardContainer.style.display = 'block';
            cardContainer.textContent = 'Tüm kelimeleri gözden geçirdiniz veya seçtiğiniz seviyede kart yok!';
            showBtn.style.display = 'none';
            choiceButtons.style.display = 'none';
        } else {
            showNextCard();
        }
    }

    /**
     * Display the next card for review (English word only initially).
     */
    function showNextCard() {
        if (currentIndex >= reviewCards.length) {
            cardContainer.style.display = 'block';
            cardContainer.textContent = 'Tebrikler! Tüm kartları gözden geçirdiniz.';
            showBtn.style.display = 'none';
            choiceButtons.style.display = 'none';
            saveProgress(cards);
            return;
        }
        currentCard = reviewCards[currentIndex];
        // Reset UI
        cardContainer.style.display = 'block';
        cardContainer.innerHTML = `<strong>${currentCard.word}</strong>`;
        showBtn.style.display = 'inline-block';
        choiceButtons.style.display = 'none';
    }

    /**
     * Reveal the translation for the current card and show remember/forget buttons.
     */
    function revealTranslation() {
        if (!currentCard) return;
        cardContainer.innerHTML = `<strong>${currentCard.word}</strong> — ${currentCard.translation}`;
        showBtn.style.display = 'none';
        choiceButtons.style.display = 'flex';
    }

    /**
     * Handle "Remembered" action: increase stage and proceed.
     */
    function handleRemember() {
        if (!currentCard) return;
        currentCard.stage = Math.min(currentCard.stage + 1, 5);
        // Update global cards array
        const idx = cards.findIndex(c => c.id === currentCard.id);
        if (idx >= 0) cards[idx].stage = currentCard.stage;
        currentIndex++;
        showNextCard();
    }

    /**
     * Handle "Forgot" action: reset stage to 1 and proceed.
     */
    function handleForget() {
        if (!currentCard) return;
        currentCard.stage = 1;
        const idx = cards.findIndex(c => c.id === currentCard.id);
        if (idx >= 0) cards[idx].stage = currentCard.stage;
        currentIndex++;
        showNextCard();
    }

    // Attach button handlers
    showBtn.addEventListener('click', revealTranslation);
    rememberBtn.addEventListener('click', handleRemember);
    forgetBtn.addEventListener('click', handleForget);

    function goHome() {
        window.location.href = 'index.html';
    }

    // Start review on page load
    startReview();
    </script>
</body>
</html>